import{j as r,B as d,f as c,g as u,ai as x,r as f,P as m}from"./index-e8a81011.js";import{L as g}from"./logo-loader-b4e52445.js";function h({refetch:s,title:o="Something went wrong"}){return r.jsxs("div",{className:"bg-red-100 dark:bg-red-200 border border-red-400 mx-5 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[r.jsx("h1",{className:"text-xl font-medium mb-2",children:o}),r.jsx("p",{className:"dark:text-red-800 text-red-500 mb-3",children:"An Unexpected error occured"}),r.jsx(d,{onClick:()=>s(),variant:"secondary",children:"Try Again"})]})}function j(){const s=c(),{setProfile:o}=u(),{data:t,isError:a,refetch:l}=x({enabled:!0,queryKey:["profile"],route:"/users/profile",displayToast:!1});return f.useEffect(()=>{var n,i;const e=t==null?void 0:t.data;e&&((e==null?void 0:e.user)===null||!((n=e==null?void 0:e.user)!=null&&n.isOnboarded)?(s("/onboarding"),console.log(e)):(o(e==null?void 0:e.user),s(`/${(i=e==null?void 0:e.user)==null?void 0:i.id}/chats`)))},[t]),a?r.jsx(h,{title:"Failed to load user's chats",refetch:l}):r.jsx(g,{children:r.jsx(m,{className:"text-center text-lg text-brand-p1 font-semibold mt-2",children:"Loading Up Chats..."})})}export{j as default};
