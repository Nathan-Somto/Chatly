import{c as ve,r as a,j as s,b as ht,R as X,a as Yn,aG as Xn,aH as Zn,G as qn,J as Jn,I as Qn,aI as er,aJ as tr,aK as nr,aL as rr,aM as or,aN as ar,aO as sr,aP as cr,aQ as ae,aR as ir,aS as ur,aT as lr,q as dr,aU as fr,aV as mr,aW as pr,d as A,aX as hr,aY as vt,aZ as vr,a_ as xr,a$ as gr,af as Cr,g as xt,b0 as yr,ar as br,as as wr,au as Er,ak as Mr,B as Rr,P as ne,at as Sr,b1 as Pr,b2 as Nr}from"./index-e8a81011.js";const _r=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ar=ve("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Ir=ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),jr=ve("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),Tr=ve("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);function M(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function xe(e,t=[]){let n=[];function r(c,u){const i=a.createContext(u),d=n.length;n=[...n,u];function l(f){const{scope:h,children:x,...v}=f,m=(h==null?void 0:h[e][d])||i,C=a.useMemo(()=>v,Object.values(v));return s.jsx(m.Provider,{value:C,children:x})}function p(f,h){const x=(h==null?void 0:h[e][d])||i,v=a.useContext(x);if(v)return v;if(u!==void 0)return u;throw new Error(`\`${f}\` must be used within \`${c}\``)}return l.displayName=c+"Provider",[l,p]}const o=()=>{const c=n.map(u=>a.createContext(u));return function(i){const d=(i==null?void 0:i[e])||c;return a.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[r,Or(o,...t)]}function Or(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=r.reduce((i,{useScope:d,scopeName:l})=>{const f=d(c)[`__scope${l}`];return{...i,...f}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Dr(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ke(...e){return t=>e.forEach(n=>Dr(n,t))}function D(...e){return a.useCallback(Ke(...e),e)}var me=a.forwardRef((e,t)=>{const{children:n,...r}=e,o=a.Children.toArray(n),c=o.find(Fr);if(c){const u=c.props.children,i=o.map(d=>d===c?a.Children.count(u)>1?a.Children.only(null):a.isValidElement(u)?u.props.children:null:d);return s.jsx(Le,{...r,ref:t,children:a.isValidElement(u)?a.cloneElement(u,void 0,i):null})}return s.jsx(Le,{...r,ref:t,children:n})});me.displayName="Slot";var Le=a.forwardRef((e,t)=>{const{children:n,...r}=e;if(a.isValidElement(n)){const o=$r(n);return a.cloneElement(n,{...Lr(r,n.props),ref:t?Ke(t,o):o})}return a.Children.count(n)>1?a.Children.only(null):null});Le.displayName="SlotClone";var kr=({children:e})=>s.jsx(s.Fragment,{children:e});function Fr(e){return a.isValidElement(e)&&e.type===kr}function Lr(e,t){const n={...t};for(const r in t){const o=e[r],c=t[r];/^on[A-Z]/.test(r)?o&&c?n[r]=(...i)=>{c(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...c}:r==="className"&&(n[r]=[o,c].filter(Boolean).join(" "))}return{...e,...n}}function $r(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ur=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],I=Ur.reduce((e,t)=>{const n=a.forwardRef((r,o)=>{const{asChild:c,...u}=r,i=c?me:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(i,{...u,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gt(e,t){e&&ht.flushSync(()=>e.dispatchEvent(t))}function Ct(e){const t=e+"CollectionProvider",[n,r]=xe(t),[o,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:v,children:m}=x,C=X.useRef(null),g=X.useRef(new Map).current;return s.jsx(o,{scope:v,itemMap:g,collectionRef:C,children:m})};u.displayName=t;const i=e+"CollectionSlot",d=X.forwardRef((x,v)=>{const{scope:m,children:C}=x,g=c(i,m),y=D(v,g.collectionRef);return s.jsx(me,{ref:y,children:C})});d.displayName=i;const l=e+"CollectionItemSlot",p="data-radix-collection-item",f=X.forwardRef((x,v)=>{const{scope:m,children:C,...g}=x,y=X.useRef(null),E=D(v,y),w=c(l,m);return X.useEffect(()=>(w.itemMap.set(y,{ref:y,...g}),()=>void w.itemMap.delete(y))),s.jsx(me,{[p]:"",ref:E,children:C})});f.displayName=l;function h(x){const v=c(e+"CollectionConsumer",x);return X.useCallback(()=>{const C=v.collectionRef.current;if(!C)return[];const g=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(v.itemMap.values()).sort((w,S)=>g.indexOf(w.ref.current)-g.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:u,Slot:d,ItemSlot:f},h,r]}var Br=a.createContext(void 0);function yt(e){const t=a.useContext(Br);return e||t||"ltr"}function U(e){const t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Gr(e,t=globalThis==null?void 0:globalThis.document){const n=U(e);a.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Kr="DismissableLayer",$e="dismissableLayer.update",zr="dismissableLayer.pointerDownOutside",Wr="dismissableLayer.focusOutside",rt,bt=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wt=a.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:i,...d}=e,l=a.useContext(bt),[p,f]=a.useState(null),h=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=a.useState({}),v=D(t,R=>f(R)),m=Array.from(l.layers),[C]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(C),y=p?m.indexOf(p):-1,E=l.layersWithOutsidePointerEventsDisabled.size>0,w=y>=g,S=Yr(R=>{const P=R.target,T=[...l.branches].some(k=>k.contains(P));!w||T||(o==null||o(R),u==null||u(R),R.defaultPrevented||i==null||i())},h),N=Xr(R=>{const P=R.target;[...l.branches].some(k=>k.contains(P))||(c==null||c(R),u==null||u(R),R.defaultPrevented||i==null||i())},h);return Gr(R=>{y===l.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&i&&(R.preventDefault(),i()))},h),a.useEffect(()=>{if(p)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(rt=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(p)),l.layers.add(p),ot(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=rt)}},[p,h,n,l]),a.useEffect(()=>()=>{p&&(l.layers.delete(p),l.layersWithOutsidePointerEventsDisabled.delete(p),ot())},[p,l]),a.useEffect(()=>{const R=()=>x({});return document.addEventListener($e,R),()=>document.removeEventListener($e,R)},[]),s.jsx(I.div,{...d,ref:v,style:{pointerEvents:E?w?"auto":"none":void 0,...e.style},onFocusCapture:M(e.onFocusCapture,N.onFocusCapture),onBlurCapture:M(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:M(e.onPointerDownCapture,S.onPointerDownCapture)})});wt.displayName=Kr;var Hr="DismissableLayerBranch",Vr=a.forwardRef((e,t)=>{const n=a.useContext(bt),r=a.useRef(null),o=D(t,r);return a.useEffect(()=>{const c=r.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),s.jsx(I.div,{...e,ref:o})});Vr.displayName=Hr;function Yr(e,t=globalThis==null?void 0:globalThis.document){const n=U(e),r=a.useRef(!1),o=a.useRef(()=>{});return a.useEffect(()=>{const c=i=>{if(i.target&&!r.current){let d=function(){Et(zr,n,l,{discrete:!0})};const l={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Xr(e,t=globalThis==null?void 0:globalThis.document){const n=U(e),r=a.useRef(!1);return a.useEffect(()=>{const o=c=>{c.target&&!r.current&&Et(Wr,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ot(){const e=new CustomEvent($e);document.dispatchEvent(e)}function Et(e,t,n,{discrete:r}){const o=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?gt(o,c):o.dispatchEvent(c)}var Te=0;function Zr(){a.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??at()),document.body.insertAdjacentElement("beforeend",e[1]??at()),Te++,()=>{Te===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Te--}},[])}function at(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Oe="focusScope.autoFocusOnMount",De="focusScope.autoFocusOnUnmount",st={bubbles:!1,cancelable:!0},qr="FocusScope",Mt=a.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=e,[i,d]=a.useState(null),l=U(o),p=U(c),f=a.useRef(null),h=D(t,m=>d(m)),x=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(r){let m=function(E){if(x.paused||!i)return;const w=E.target;i.contains(w)?f.current=w:H(f.current,{select:!0})},C=function(E){if(x.paused||!i)return;const w=E.relatedTarget;w!==null&&(i.contains(w)||H(f.current,{select:!0}))},g=function(E){if(document.activeElement===document.body)for(const S of E)S.removedNodes.length>0&&H(i)};document.addEventListener("focusin",m),document.addEventListener("focusout",C);const y=new MutationObserver(g);return i&&y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",C),y.disconnect()}}},[r,i,x.paused]),a.useEffect(()=>{if(i){it.add(x);const m=document.activeElement;if(!i.contains(m)){const g=new CustomEvent(Oe,st);i.addEventListener(Oe,l),i.dispatchEvent(g),g.defaultPrevented||(Jr(ro(Rt(i)),{select:!0}),document.activeElement===m&&H(i))}return()=>{i.removeEventListener(Oe,l),setTimeout(()=>{const g=new CustomEvent(De,st);i.addEventListener(De,p),i.dispatchEvent(g),g.defaultPrevented||H(m??document.body,{select:!0}),i.removeEventListener(De,p),it.remove(x)},0)}}},[i,l,p,x]);const v=a.useCallback(m=>{if(!n&&!r||x.paused)return;const C=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(C&&g){const y=m.currentTarget,[E,w]=Qr(y);E&&w?!m.shiftKey&&g===w?(m.preventDefault(),n&&H(E,{select:!0})):m.shiftKey&&g===E&&(m.preventDefault(),n&&H(w,{select:!0})):g===y&&m.preventDefault()}},[n,r,x.paused]);return s.jsx(I.div,{tabIndex:-1,...u,ref:h,onKeyDown:v})});Mt.displayName=qr;function Jr(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(H(r,{select:t}),document.activeElement!==n)return}function Qr(e){const t=Rt(e),n=ct(t,e),r=ct(t.reverse(),e);return[n,r]}function Rt(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ct(e,t){for(const n of e)if(!eo(n,{upTo:t}))return n}function eo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function to(e){return e instanceof HTMLInputElement&&"select"in e}function H(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&to(e)&&t&&e.select()}}var it=no();function no(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ut(e,t),e.unshift(t)},remove(t){var n;e=ut(e,t),(n=e[0])==null||n.resume()}}}function ut(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ro(e){return e.filter(t=>t.tagName!=="A")}var Z=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{},oo=Yn["useId".toString()]||(()=>{}),ao=0;function so(e){const[t,n]=a.useState(oo());return Z(()=>{e||n(r=>r??String(ao++))},[e]),e||(t?`radix-${t}`:"")}var co="Arrow",St=a.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...c}=e;return s.jsx(I.svg,{...c,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});St.displayName=co;var io=St;function uo(e){const[t,n]=a.useState(void 0);return Z(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,i;if("borderBoxSize"in c){const d=c.borderBoxSize,l=Array.isArray(d)?d[0]:d;u=l.inlineSize,i=l.blockSize}else u=e.offsetWidth,i=e.offsetHeight;n({width:u,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ze="Popper",[Pt,Nt]=xe(ze),[lo,_t]=Pt(ze),At=e=>{const{__scopePopper:t,children:n}=e,[r,o]=a.useState(null);return s.jsx(lo,{scope:t,anchor:r,onAnchorChange:o,children:n})};At.displayName=ze;var It="PopperAnchor",jt=a.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,c=_t(It,n),u=a.useRef(null),i=D(t,u);return a.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:s.jsx(I.div,{...o,ref:i})});jt.displayName=It;var We="PopperContent",[fo,mo]=Pt(We),Tt=a.forwardRef((e,t)=>{var z,ue,L,le,et,tt;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:i=0,avoidCollisions:d=!0,collisionBoundary:l=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:x="optimized",onPlaced:v,...m}=e,C=_t(We,n),[g,y]=a.useState(null),E=D(t,de=>y(de)),[w,S]=a.useState(null),N=uo(w),R=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,T=r+(c!=="center"?"-"+c:""),k=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},W=Array.isArray(l)?l:[l],V=W.length>0,K={padding:k,boundary:W.filter(ho),altBoundary:V},{refs:Q,floatingStyles:ee,placement:B,isPositioned:te,middlewareData:F}=Xn({strategy:"fixed",placement:T,whileElementsMounted:(...de)=>Zn(...de,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[qn({mainAxis:o+P,alignmentAxis:u}),d&&Jn({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?rr():void 0,...K}),d&&Qn({...K}),er({...K,apply:({elements:de,rects:nt,availableWidth:zn,availableHeight:Wn})=>{const{width:Hn,height:Vn}=nt.reference,we=de.floating.style;we.setProperty("--radix-popper-available-width",`${zn}px`),we.setProperty("--radix-popper-available-height",`${Wn}px`),we.setProperty("--radix-popper-anchor-width",`${Hn}px`),we.setProperty("--radix-popper-anchor-height",`${Vn}px`)}}),w&&tr({element:w,padding:i}),vo({arrowWidth:R,arrowHeight:P}),h&&nr({strategy:"referenceHidden",...K})]}),[b,O]=kt(B),_=U(v);Z(()=>{te&&(_==null||_())},[te,_]);const G=(z=F.arrow)==null?void 0:z.x,ce=(ue=F.arrow)==null?void 0:ue.y,ie=((L=F.arrow)==null?void 0:L.centerOffset)!==0,[be,Y]=a.useState();return Z(()=>{g&&Y(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:te?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(le=F.transformOrigin)==null?void 0:le.x,(et=F.transformOrigin)==null?void 0:et.y].join(" "),...((tt=F.hide)==null?void 0:tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(fo,{scope:n,placedSide:b,onArrowChange:S,arrowX:G,arrowY:ce,shouldHideArrow:ie,children:s.jsx(I.div,{"data-side":b,"data-align":O,...m,ref:E,style:{...m.style,animation:te?void 0:"none"}})})})});Tt.displayName=We;var Ot="PopperArrow",po={top:"bottom",right:"left",bottom:"top",left:"right"},Dt=a.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,c=mo(Ot,r),u=po[c.placedSide];return s.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:s.jsx(io,{...o,ref:n,style:{...o.style,display:"block"}})})});Dt.displayName=Ot;function ho(e){return e!==null}var vo=e=>({name:"transformOrigin",options:e,fn(t){var C,g,y;const{placement:n,rects:r,middlewareData:o}=t,u=((C=o.arrow)==null?void 0:C.centerOffset)!==0,i=u?0:e.arrowWidth,d=u?0:e.arrowHeight,[l,p]=kt(n),f={start:"0%",center:"50%",end:"100%"}[p],h=(((g=o.arrow)==null?void 0:g.x)??0)+i/2,x=(((y=o.arrow)==null?void 0:y.y)??0)+d/2;let v="",m="";return l==="bottom"?(v=u?f:`${h}px`,m=`${-d}px`):l==="top"?(v=u?f:`${h}px`,m=`${r.floating.height+d}px`):l==="right"?(v=`${-d}px`,m=u?f:`${x}px`):l==="left"&&(v=`${r.floating.width+d}px`,m=u?f:`${x}px`),{data:{x:v,y:m}}}});function kt(e){const[t,n="center"]=e.split("-");return[t,n]}var xo=At,go=jt,Co=Tt,yo=Dt,bo="Portal",Ft=a.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[o,c]=a.useState(!1);Z(()=>c(!0),[]);const u=n||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return u?or.createPortal(s.jsx(I.div,{...r,ref:t}),u):null});Ft.displayName=bo;function wo(e,t){return a.useReducer((n,r)=>t[n][r]??n,e)}var ge=e=>{const{present:t,children:n}=e,r=Eo(t),o=typeof n=="function"?n({present:r.isPresent}):a.Children.only(n),c=D(r.ref,Mo(o));return typeof n=="function"||r.isPresent?a.cloneElement(o,{ref:c}):null};ge.displayName="Presence";function Eo(e){const[t,n]=a.useState(),r=a.useRef({}),o=a.useRef(e),c=a.useRef("none"),u=e?"mounted":"unmounted",[i,d]=wo(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const l=Ee(r.current);c.current=i==="mounted"?l:"none"},[i]),Z(()=>{const l=r.current,p=o.current;if(p!==e){const h=c.current,x=Ee(l);e?d("MOUNT"):x==="none"||(l==null?void 0:l.display)==="none"?d("UNMOUNT"):d(p&&h!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),Z(()=>{if(t){const l=f=>{const x=Ee(r.current).includes(f.animationName);f.target===t&&x&&ht.flushSync(()=>d("ANIMATION_END"))},p=f=>{f.target===t&&(c.current=Ee(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:a.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Ee(e){return(e==null?void 0:e.animationName)||"none"}function Mo(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ro({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=So({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:r,i=U(n),d=a.useCallback(l=>{if(c){const f=typeof l=="function"?l(e):l;f!==e&&i(f)}else o(l)},[c,e,o,i]);return[u,d]}function So({defaultProp:e,onChange:t}){const n=a.useState(e),[r]=n,o=a.useRef(r),c=U(t);return a.useEffect(()=>{o.current!==r&&(c(r),o.current=r)},[r,o,c]),n}var ke="rovingFocusGroup.onEntryFocus",Po={bubbles:!1,cancelable:!0},_e="RovingFocusGroup",[Ue,Lt,No]=Ct(_e),[_o,$t]=xe(_e,[No]),[Ao,Io]=_o(_e),Ut=a.forwardRef((e,t)=>s.jsx(Ue.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ue.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(jo,{...e,ref:t})})}));Ut.displayName=_e;var jo=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:d,onEntryFocus:l,preventScrollOnEntryFocus:p=!1,...f}=e,h=a.useRef(null),x=D(t,h),v=yt(c),[m=null,C]=Ro({prop:u,defaultProp:i,onChange:d}),[g,y]=a.useState(!1),E=U(l),w=Lt(n),S=a.useRef(!1),[N,R]=a.useState(0);return a.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(ke,E),()=>P.removeEventListener(ke,E)},[E]),s.jsx(Ao,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:m,onItemFocus:a.useCallback(P=>C(P),[C]),onItemShiftTab:a.useCallback(()=>y(!0),[]),onFocusableItemAdd:a.useCallback(()=>R(P=>P+1),[]),onFocusableItemRemove:a.useCallback(()=>R(P=>P-1),[]),children:s.jsx(I.div,{tabIndex:g||N===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:M(e.onMouseDown,()=>{S.current=!0}),onFocus:M(e.onFocus,P=>{const T=!S.current;if(P.target===P.currentTarget&&T&&!g){const k=new CustomEvent(ke,Po);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const W=w().filter(B=>B.focusable),V=W.find(B=>B.active),K=W.find(B=>B.id===m),ee=[V,K,...W].filter(Boolean).map(B=>B.ref.current);Kt(ee,p)}}S.current=!1}),onBlur:M(e.onBlur,()=>y(!1))})})}),Bt="RovingFocusGroupItem",Gt=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:c,...u}=e,i=so(),d=c||i,l=Io(Bt,n),p=l.currentTabStopId===d,f=Lt(n),{onFocusableItemAdd:h,onFocusableItemRemove:x}=l;return a.useEffect(()=>{if(r)return h(),()=>x()},[r,h,x]),s.jsx(Ue.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:s.jsx(I.span,{tabIndex:p?0:-1,"data-orientation":l.orientation,...u,ref:t,onMouseDown:M(e.onMouseDown,v=>{r?l.onItemFocus(d):v.preventDefault()}),onFocus:M(e.onFocus,()=>l.onItemFocus(d)),onKeyDown:M(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){l.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=Do(v,l.orientation,l.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let g=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const y=g.indexOf(v.currentTarget);g=l.loop?ko(g,y+1):g.slice(y+1)}setTimeout(()=>Kt(g))}})})})});Gt.displayName=Bt;var To={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Oo(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Do(e,t,n){const r=Oo(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return To[r]}function Kt(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ko(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Fo=Ut,Lo=Gt,zt=ar(),Fe=function(){},Ae=a.forwardRef(function(e,t){var n=a.useRef(null),r=a.useState({onScrollCapture:Fe,onWheelCapture:Fe,onTouchMoveCapture:Fe}),o=r[0],c=r[1],u=e.forwardProps,i=e.children,d=e.className,l=e.removeScrollBar,p=e.enabled,f=e.shards,h=e.sideCar,x=e.noIsolation,v=e.inert,m=e.allowPinchZoom,C=e.as,g=C===void 0?"div":C,y=e.gapMode,E=sr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=cr([n,t]),N=ae(ae({},E),o);return a.createElement(a.Fragment,null,p&&a.createElement(w,{sideCar:zt,removeScrollBar:l,shards:f,noIsolation:x,inert:v,setCallbacks:c,allowPinchZoom:!!m,lockRef:n,gapMode:y}),u?a.cloneElement(a.Children.only(i),ae(ae({},N),{ref:S})):a.createElement(g,ae({},N,{className:d,ref:S}),i))});Ae.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ae.classNames={fullWidth:ir,zeroRight:ur};var Be=!1;if(typeof window<"u")try{var Me=Object.defineProperty({},"passive",{get:function(){return Be=!0,!0}});window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch{Be=!1}var re=Be?{passive:!1}:!1,$o=function(e){return e.tagName==="TEXTAREA"},Wt=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$o(e)&&n[t]==="visible")},Uo=function(e){return Wt(e,"overflowY")},Bo=function(e){return Wt(e,"overflowX")},lt=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Ht(e,r);if(o){var c=Vt(e,r),u=c[1],i=c[2];if(u>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Go=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Ko=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ht=function(e,t){return e==="v"?Uo(t):Bo(t)},Vt=function(e,t){return e==="v"?Go(t):Ko(t)},zo=function(e,t){return e==="h"&&t==="rtl"?-1:1},Wo=function(e,t,n,r,o){var c=zo(e,window.getComputedStyle(t).direction),u=c*r,i=n.target,d=t.contains(i),l=!1,p=u>0,f=0,h=0;do{var x=Vt(e,i),v=x[0],m=x[1],C=x[2],g=m-C-c*v;(v||g)&&Ht(e,i)&&(f+=g,h+=v),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(p&&(o&&Math.abs(f)<1||!o&&u>f)||!p&&(o&&Math.abs(h)<1||!o&&-u>h))&&(l=!0),l},Re=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dt=function(e){return[e.deltaX,e.deltaY]},ft=function(e){return e&&"current"in e?e.current:e},Ho=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Vo=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yo=0,oe=[];function Xo(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),o=a.useState(Yo++)[0],c=a.useState(lr)[0],u=a.useRef(e);a.useEffect(function(){u.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=dr([e.lockRef.current],(e.shards||[]).map(ft),!0).filter(Boolean);return m.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=a.useCallback(function(m,C){if("touches"in m&&m.touches.length===2)return!u.current.allowPinchZoom;var g=Re(m),y=n.current,E="deltaX"in m?m.deltaX:y[0]-g[0],w="deltaY"in m?m.deltaY:y[1]-g[1],S,N=m.target,R=Math.abs(E)>Math.abs(w)?"h":"v";if("touches"in m&&R==="h"&&N.type==="range")return!1;var P=lt(R,N);if(!P)return!0;if(P?S=R:(S=R==="v"?"h":"v",P=lt(R,N)),!P)return!1;if(!r.current&&"changedTouches"in m&&(E||w)&&(r.current=S),!S)return!0;var T=r.current||S;return Wo(T,C,m,T==="h"?E:w,!0)},[]),d=a.useCallback(function(m){var C=m;if(!(!oe.length||oe[oe.length-1]!==c)){var g="deltaY"in C?dt(C):Re(C),y=t.current.filter(function(S){return S.name===C.type&&(S.target===C.target||C.target===S.shadowParent)&&Ho(S.delta,g)})[0];if(y&&y.should){C.cancelable&&C.preventDefault();return}if(!y){var E=(u.current.shards||[]).map(ft).filter(Boolean).filter(function(S){return S.contains(C.target)}),w=E.length>0?i(C,E[0]):!u.current.noIsolation;w&&C.cancelable&&C.preventDefault()}}},[]),l=a.useCallback(function(m,C,g,y){var E={name:m,delta:C,target:g,should:y,shadowParent:Zo(g)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(w){return w!==E})},1)},[]),p=a.useCallback(function(m){n.current=Re(m),r.current=void 0},[]),f=a.useCallback(function(m){l(m.type,dt(m),m.target,i(m,e.lockRef.current))},[]),h=a.useCallback(function(m){l(m.type,Re(m),m.target,i(m,e.lockRef.current))},[]);a.useEffect(function(){return oe.push(c),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",d,re),document.addEventListener("touchmove",d,re),document.addEventListener("touchstart",p,re),function(){oe=oe.filter(function(m){return m!==c}),document.removeEventListener("wheel",d,re),document.removeEventListener("touchmove",d,re),document.removeEventListener("touchstart",p,re)}},[]);var x=e.removeScrollBar,v=e.inert;return a.createElement(a.Fragment,null,v?a.createElement(c,{styles:Vo(o)}):null,x?a.createElement(fr,{gapMode:e.gapMode}):null)}function Zo(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qo=mr(zt,Xo);var Yt=a.forwardRef(function(e,t){return a.createElement(Ae,ae({},e,{ref:t,sideCar:qo}))});Yt.classNames=Ae.classNames;const Jo=Yt;var Ge=["Enter"," "],Qo=["ArrowDown","PageUp","Home"],Xt=["ArrowUp","PageDown","End"],ea=[...Qo,...Xt],ta={ltr:[...Ge,"ArrowRight"],rtl:[...Ge,"ArrowLeft"]},na={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ce="Menu",[pe,ra,oa]=Ct(Ce),[q,Zt]=xe(Ce,[oa,Nt,$t]),Ie=Nt(),qt=$t(),[aa,J]=q(Ce),[sa,ye]=q(Ce),Jt=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:c,modal:u=!0}=e,i=Ie(t),[d,l]=a.useState(null),p=a.useRef(!1),f=U(c),h=yt(o);return a.useEffect(()=>{const x=()=>{p.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>p.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(xo,{...i,children:s.jsx(aa,{scope:t,open:n,onOpenChange:f,content:d,onContentChange:l,children:s.jsx(sa,{scope:t,onClose:a.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:p,dir:h,modal:u,children:r})})})};Jt.displayName=Ce;var ca="MenuAnchor",He=a.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ie(n);return s.jsx(go,{...o,...r,ref:t})});He.displayName=ca;var Ve="MenuPortal",[ia,Qt]=q(Ve,{forceMount:void 0}),en=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,c=J(Ve,t);return s.jsx(ia,{scope:t,forceMount:n,children:s.jsx(ge,{present:n||c.open,children:s.jsx(Ft,{asChild:!0,container:o,children:r})})})};en.displayName=Ve;var $="MenuContent",[ua,Ye]=q($),tn=a.forwardRef((e,t)=>{const n=Qt($,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,c=J($,e.__scopeMenu),u=ye($,e.__scopeMenu);return s.jsx(pe.Provider,{scope:e.__scopeMenu,children:s.jsx(ge,{present:r||c.open,children:s.jsx(pe.Slot,{scope:e.__scopeMenu,children:u.modal?s.jsx(la,{...o,ref:t}):s.jsx(da,{...o,ref:t})})})})}),la=a.forwardRef((e,t)=>{const n=J($,e.__scopeMenu),r=a.useRef(null),o=D(t,r);return a.useEffect(()=>{const c=r.current;if(c)return pr(c)},[]),s.jsx(Xe,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:M(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),da=a.forwardRef((e,t)=>{const n=J($,e.__scopeMenu);return s.jsx(Xe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xe=a.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:i,onEntryFocus:d,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:h,onDismiss:x,disableOutsideScroll:v,...m}=e,C=J($,n),g=ye($,n),y=Ie(n),E=qt(n),w=ra(n),[S,N]=a.useState(null),R=a.useRef(null),P=D(t,R,C.onContentChange),T=a.useRef(0),k=a.useRef(""),W=a.useRef(0),V=a.useRef(null),K=a.useRef("right"),Q=a.useRef(0),ee=v?Jo:a.Fragment,B=v?{as:me,allowPinchZoom:!0}:void 0,te=b=>{var z,ue;const O=k.current+b,_=w().filter(L=>!L.disabled),G=document.activeElement,ce=(z=_.find(L=>L.ref.current===G))==null?void 0:z.textValue,ie=_.map(L=>L.textValue),be=Ea(ie,O,ce),Y=(ue=_.find(L=>L.textValue===be))==null?void 0:ue.ref.current;(function L(le){k.current=le,window.clearTimeout(T.current),le!==""&&(T.current=window.setTimeout(()=>L(""),1e3))})(O),Y&&setTimeout(()=>Y.focus())};a.useEffect(()=>()=>window.clearTimeout(T.current),[]),Zr();const F=a.useCallback(b=>{var _,G;return K.current===((_=V.current)==null?void 0:_.side)&&Ra(b,(G=V.current)==null?void 0:G.area)},[]);return s.jsx(ua,{scope:n,searchRef:k,onItemEnter:a.useCallback(b=>{F(b)&&b.preventDefault()},[F]),onItemLeave:a.useCallback(b=>{var O;F(b)||((O=R.current)==null||O.focus(),N(null))},[F]),onTriggerLeave:a.useCallback(b=>{F(b)&&b.preventDefault()},[F]),pointerGraceTimerRef:W,onPointerGraceIntentChange:a.useCallback(b=>{V.current=b},[]),children:s.jsx(ee,{...B,children:s.jsx(Mt,{asChild:!0,trapped:o,onMountAutoFocus:M(c,b=>{var O;b.preventDefault(),(O=R.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:s.jsx(wt,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:h,onDismiss:x,children:s.jsx(Fo,{asChild:!0,...E,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:M(d,b=>{g.isUsingKeyboardRef.current||b.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Co,{role:"menu","aria-orientation":"vertical","data-state":gn(C.open),"data-radix-menu-content":"",dir:g.dir,...y,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:M(m.onKeyDown,b=>{const _=b.target.closest("[data-radix-menu-content]")===b.currentTarget,G=b.ctrlKey||b.altKey||b.metaKey,ce=b.key.length===1;_&&(b.key==="Tab"&&b.preventDefault(),!G&&ce&&te(b.key));const ie=R.current;if(b.target!==ie||!ea.includes(b.key))return;b.preventDefault();const Y=w().filter(z=>!z.disabled).map(z=>z.ref.current);Xt.includes(b.key)&&Y.reverse(),ba(Y)}),onBlur:M(e.onBlur,b=>{b.currentTarget.contains(b.target)||(window.clearTimeout(T.current),k.current="")}),onPointerMove:M(e.onPointerMove,he(b=>{const O=b.target,_=Q.current!==b.clientX;if(b.currentTarget.contains(O)&&_){const G=b.clientX>Q.current?"right":"left";K.current=G,Q.current=b.clientX}}))})})})})})})});tn.displayName=$;var fa="MenuGroup",Ze=a.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(I.div,{role:"group",...r,ref:t})});Ze.displayName=fa;var ma="MenuLabel",nn=a.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(I.div,{...r,ref:t})});nn.displayName=ma;var Pe="MenuItem",mt="menu.itemSelect",je=a.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,c=a.useRef(null),u=ye(Pe,e.__scopeMenu),i=Ye(Pe,e.__scopeMenu),d=D(t,c),l=a.useRef(!1),p=()=>{const f=c.current;if(!n&&f){const h=new CustomEvent(mt,{bubbles:!0,cancelable:!0});f.addEventListener(mt,x=>r==null?void 0:r(x),{once:!0}),gt(f,h),h.defaultPrevented?l.current=!1:u.onClose()}};return s.jsx(rn,{...o,ref:d,disabled:n,onClick:M(e.onClick,p),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),l.current=!0},onPointerUp:M(e.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:M(e.onKeyDown,f=>{const h=i.searchRef.current!=="";n||h&&f.key===" "||Ge.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});je.displayName=Pe;var rn=a.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...c}=e,u=Ye(Pe,n),i=qt(n),d=a.useRef(null),l=D(t,d),[p,f]=a.useState(!1),[h,x]=a.useState("");return a.useEffect(()=>{const v=d.current;v&&x((v.textContent??"").trim())},[c.children]),s.jsx(pe.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:s.jsx(Lo,{asChild:!0,...i,focusable:!r,children:s.jsx(I.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:l,onPointerMove:M(e.onPointerMove,he(v=>{r?u.onItemLeave(v):(u.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:M(e.onPointerLeave,he(v=>u.onItemLeave(v))),onFocus:M(e.onFocus,()=>f(!0)),onBlur:M(e.onBlur,()=>f(!1))})})})}),pa="MenuCheckboxItem",on=a.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return s.jsx(ln,{scope:e.__scopeMenu,checked:n,children:s.jsx(je,{role:"menuitemcheckbox","aria-checked":Ne(n)?"mixed":n,...o,ref:t,"data-state":Je(n),onSelect:M(o.onSelect,()=>r==null?void 0:r(Ne(n)?!0:!n),{checkForDefaultPrevented:!1})})})});on.displayName=pa;var an="MenuRadioGroup",[ha,va]=q(an,{value:void 0,onValueChange:()=>{}}),sn=a.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,c=U(r);return s.jsx(ha,{scope:e.__scopeMenu,value:n,onValueChange:c,children:s.jsx(Ze,{...o,ref:t})})});sn.displayName=an;var cn="MenuRadioItem",un=a.forwardRef((e,t)=>{const{value:n,...r}=e,o=va(cn,e.__scopeMenu),c=n===o.value;return s.jsx(ln,{scope:e.__scopeMenu,checked:c,children:s.jsx(je,{role:"menuitemradio","aria-checked":c,...r,ref:t,"data-state":Je(c),onSelect:M(r.onSelect,()=>{var u;return(u=o.onValueChange)==null?void 0:u.call(o,n)},{checkForDefaultPrevented:!1})})})});un.displayName=cn;var qe="MenuItemIndicator",[ln,xa]=q(qe,{checked:!1}),dn=a.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,c=xa(qe,n);return s.jsx(ge,{present:r||Ne(c.checked)||c.checked===!0,children:s.jsx(I.span,{...o,ref:t,"data-state":Je(c.checked)})})});dn.displayName=qe;var ga="MenuSeparator",fn=a.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(I.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});fn.displayName=ga;var Ca="MenuArrow",mn=a.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ie(n);return s.jsx(yo,{...o,...r,ref:t})});mn.displayName=Ca;var ya="MenuSub",[bs,pn]=q(ya),fe="MenuSubTrigger",hn=a.forwardRef((e,t)=>{const n=J(fe,e.__scopeMenu),r=ye(fe,e.__scopeMenu),o=pn(fe,e.__scopeMenu),c=Ye(fe,e.__scopeMenu),u=a.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:d}=c,l={__scopeMenu:e.__scopeMenu},p=a.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return a.useEffect(()=>p,[p]),a.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),d(null)}},[i,d]),s.jsx(He,{asChild:!0,...l,children:s.jsx(rn,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":gn(n.open),...e,ref:Ke(t,o.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:M(e.onPointerMove,he(f=>{c.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:M(e.onPointerLeave,he(f=>{var x,v;p();const h=(x=n.content)==null?void 0:x.getBoundingClientRect();if(h){const m=(v=n.content)==null?void 0:v.dataset.side,C=m==="right",g=C?-5:5,y=h[C?"left":"right"],E=h[C?"right":"left"];c.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:y,y:h.top},{x:E,y:h.top},{x:E,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(f),f.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:M(e.onKeyDown,f=>{var x;const h=c.searchRef.current!=="";e.disabled||h&&f.key===" "||ta[r.dir].includes(f.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),f.preventDefault())})})})});hn.displayName=fe;var vn="MenuSubContent",xn=a.forwardRef((e,t)=>{const n=Qt($,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,c=J($,e.__scopeMenu),u=ye($,e.__scopeMenu),i=pn(vn,e.__scopeMenu),d=a.useRef(null),l=D(t,d);return s.jsx(pe.Provider,{scope:e.__scopeMenu,children:s.jsx(ge,{present:r||c.open,children:s.jsx(pe.Slot,{scope:e.__scopeMenu,children:s.jsx(Xe,{id:i.contentId,"aria-labelledby":i.triggerId,...o,ref:l,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var f;u.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:M(e.onFocusOutside,p=>{p.target!==i.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:M(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:M(e.onKeyDown,p=>{var x;const f=p.currentTarget.contains(p.target),h=na[u.dir].includes(p.key);f&&h&&(c.onOpenChange(!1),(x=i.trigger)==null||x.focus(),p.preventDefault())})})})})})});xn.displayName=vn;function gn(e){return e?"open":"closed"}function Ne(e){return e==="indeterminate"}function Je(e){return Ne(e)?"indeterminate":e?"checked":"unchecked"}function ba(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function wa(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ea(e,t,n){const o=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let u=wa(e,Math.max(c,0));o.length===1&&(u=u.filter(l=>l!==n));const d=u.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function Ma(e,t){const{x:n,y:r}=e;let o=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const i=t[c].x,d=t[c].y,l=t[u].x,p=t[u].y;d>r!=p>r&&n<(l-i)*(r-d)/(p-d)+i&&(o=!o)}return o}function Ra(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ma(n,t)}function he(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Sa=Jt,Pa=He,Na=en,_a=tn,Aa=Ze,Ia=nn,ja=je,Ta=on,Oa=sn,Da=un,ka=dn,Fa=fn,La=mn,$a=hn,Ua=xn,Qe="ContextMenu",[Ba,ws]=xe(Qe,[Zt]),j=Zt(),[Ga,Cn]=Ba(Qe),yn=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:o,modal:c=!0}=e,[u,i]=a.useState(!1),d=j(t),l=U(r),p=a.useCallback(f=>{i(f),l(f)},[l]);return s.jsx(Ga,{scope:t,open:u,onOpenChange:p,modal:c,children:s.jsx(Sa,{...d,dir:o,open:u,onOpenChange:p,modal:c,children:n})})};yn.displayName=Qe;var bn="ContextMenuTrigger",wn=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...o}=e,c=Cn(bn,n),u=j(n),i=a.useRef({x:0,y:0}),d=a.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...i.current})}),l=a.useRef(0),p=a.useCallback(()=>window.clearTimeout(l.current),[]),f=h=>{i.current={x:h.clientX,y:h.clientY},c.onOpenChange(!0)};return a.useEffect(()=>p,[p]),a.useEffect(()=>void(r&&p()),[r,p]),s.jsxs(s.Fragment,{children:[s.jsx(Pa,{...u,virtualRef:d}),s.jsx(I.span,{"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,...o,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:M(e.onContextMenu,h=>{p(),f(h),h.preventDefault()}),onPointerDown:r?e.onPointerDown:M(e.onPointerDown,Se(h=>{p(),l.current=window.setTimeout(()=>f(h),700)})),onPointerMove:r?e.onPointerMove:M(e.onPointerMove,Se(p)),onPointerCancel:r?e.onPointerCancel:M(e.onPointerCancel,Se(p)),onPointerUp:r?e.onPointerUp:M(e.onPointerUp,Se(p))})]})});wn.displayName=bn;var Ka="ContextMenuPortal",En=e=>{const{__scopeContextMenu:t,...n}=e,r=j(t);return s.jsx(Na,{...r,...n})};En.displayName=Ka;var Mn="ContextMenuContent",Rn=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=Cn(Mn,n),c=j(n),u=a.useRef(!1);return s.jsx(_a,{...c,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:i=>{var d;(d=e.onCloseAutoFocus)==null||d.call(e,i),!i.defaultPrevented&&u.current&&i.preventDefault(),u.current=!1},onInteractOutside:i=>{var d;(d=e.onInteractOutside)==null||d.call(e,i),!i.defaultPrevented&&!o.modal&&(u.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Rn.displayName=Mn;var za="ContextMenuGroup",Wa=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(Aa,{...o,...r,ref:t})});Wa.displayName=za;var Ha="ContextMenuLabel",Sn=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(Ia,{...o,...r,ref:t})});Sn.displayName=Ha;var Va="ContextMenuItem",Pn=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(ja,{...o,...r,ref:t})});Pn.displayName=Va;var Ya="ContextMenuCheckboxItem",Nn=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(Ta,{...o,...r,ref:t})});Nn.displayName=Ya;var Xa="ContextMenuRadioGroup",Za=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(Oa,{...o,...r,ref:t})});Za.displayName=Xa;var qa="ContextMenuRadioItem",_n=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(Da,{...o,...r,ref:t})});_n.displayName=qa;var Ja="ContextMenuItemIndicator",An=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(ka,{...o,...r,ref:t})});An.displayName=Ja;var Qa="ContextMenuSeparator",In=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(Fa,{...o,...r,ref:t})});In.displayName=Qa;var es="ContextMenuArrow",ts=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(La,{...o,...r,ref:t})});ts.displayName=es;var ns="ContextMenuSubTrigger",jn=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx($a,{...o,...r,ref:t})});jn.displayName=ns;var rs="ContextMenuSubContent",Tn=a.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,o=j(n);return s.jsx(Ua,{...o,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tn.displayName=rs;function Se(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var os=yn,as=wn,ss=En,On=Rn,Dn=Sn,kn=Pn,Fn=Nn,Ln=_n,$n=An,Un=In,Bn=jn,Gn=Tn;const cs=os,is=as,us=a.forwardRef(({className:e,inset:t,children:n,...r},o)=>s.jsxs(Bn,{ref:o,className:A("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...r,children:[n,s.jsx(hr,{className:"ml-auto h-4 w-4"})]}));us.displayName=Bn.displayName;const ls=a.forwardRef(({className:e,...t},n)=>s.jsx(Gn,{ref:n,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ls.displayName=Gn.displayName;const Kn=a.forwardRef(({className:e,...t},n)=>s.jsx(ss,{children:s.jsx(On,{ref:n,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Kn.displayName=On.displayName;const se=a.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(kn,{ref:r,className:A("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));se.displayName=kn.displayName;const ds=a.forwardRef(({className:e,children:t,checked:n,...r},o)=>s.jsxs(Fn,{ref:o,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($n,{children:s.jsx(vt,{className:"h-4 w-4"})})}),t]}));ds.displayName=Fn.displayName;const fs=a.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Ln,{ref:r,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($n,{children:s.jsx(vr,{className:"h-2 w-2 fill-current"})})}),t]}));fs.displayName=Ln.displayName;const ms=a.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(Dn,{ref:r,className:A("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));ms.displayName=Dn.displayName;const ps=a.forwardRef(({className:e,...t},n)=>s.jsx(Un,{ref:n,className:A("-mx-1 my-1 h-px bg-border",e),...t}));ps.displayName=Un.displayName;const pt={editMessage:null,replyTo:null,deleteModal:{id:"",open:!1,index:-1},disabled:!1},hs=xr(e=>({messageOptions:pt,onEdit:t=>e(n=>({messageOptions:{...n.messageOptions,editMessage:t}})),onReply:t=>e(n=>({messageOptions:{...n.messageOptions,replyTo:t}})),toggleDeleteModal:t=>e(n=>({messageOptions:{...n.messageOptions,deleteModal:t}})),toggleDisabled:t=>e(n=>({messageOptions:{...n.messageOptions,disabled:t}})),resetOptions:()=>e(()=>({messageOptions:pt}))}));function vs({children:e,isOwn:t,bodyText:n,id:r,replyTo:o,editMessage:c,index:u,disabled:i}){const{onEdit:d,onReply:l,toggleDeleteModal:p,messageOptions:f}=hs();function h(){n&&(navigator.clipboard.writeText(n),Cr.success("copied message!"))}return s.jsxs(cs,{children:[s.jsx(is,{asChild:!0,disabled:f.disabled||i,children:e}),s.jsxs(Kn,{className:"bg-gray-50  dark:bg-[#17191C] space-y-1  rounded-md z-[9999]  py-3 px-1.5 w-[225px]",children:[s.jsxs(se,{onClick:()=>l(o),className:"gap-2 py-2 px-4 justify-start hover:opacity-80",children:[s.jsx(jr,{className:"!opacity-50 h-5 w-5"}),"Reply"]}),s.jsxs(se,{onClick:h,className:"gap-2 py-2 px-4 justify-start hover:opacity-80 ",children:[s.jsx(_r,{className:"!opacity-50 h-5 w-5"}),"Copy Text"]}),s.jsxs(se,{className:"gap-2 py-2 px-4 justify-start hover:opacity-80",children:[s.jsx(Ar,{className:"!opacity-50 h-5 w-5"}),"Flag Message"]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(se,{onClick:()=>d(c),className:"gap-2 py-2 px-4 justify-start hover:opacity-80 ",children:[s.jsx(Ir,{className:"!opacity-50 h-5 w-5"}),"Edit Message"]}),s.jsxs(se,{onClick:()=>p({id:r,open:!0,index:u}),className:"text-destructive hover:text-destructive gap-2 py-2 px-4 justify-start hover:opacity-80",children:[s.jsx(gr,{className:"h-5 w-5"}),"Delete Message"]})]})]})]})}const xs=(e,t)=>{const n=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,r=/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi,o=/(\+?\d{1,3}?[-.\s]?(\(?\d{1,4}?\)?[-.\s]?)?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/g,c=e.split(/(\b(?:https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])|([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)|(\+?\d{1,3}?[-.\s]?(\(?\d{1,4}?\)?[-.\s]?)?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/gi),u=A("underline",!t&&"text-brand-p2");return c.map((i,d)=>n.test(i)?s.jsx("a",{className:u,href:i,target:"_blank",rel:"noopener noreferrer",children:i},d):r.test(i)?s.jsx("a",{className:u,href:`mailto:${i}`,children:i},d):o.test(i)?s.jsx("a",{className:u,href:`tel:${i}`,children:i},d):s.jsx("span",{children:i},d))},gs=({text:e,isOwn:t})=>s.jsx(s.Fragment,{children:xs(e,t)});function Cs({children:e,avatarUrl:t,username:n,id:r}){const{profile:o}=xt(),{handleCreate:c,isPending:u}=yr({members:[{userId:(o==null?void 0:o.id)??""},{userId:r}],onComplete:()=>{}});return s.jsx("div",{className:"relative",children:s.jsxs(br,{children:[s.jsx(wr,{children:s.jsx(s.Fragment,{children:e})}),s.jsxs(Er,{className:"py-3 px-2 min-w-[100px]",children:[s.jsxs("div",{className:"flex flex-col gap-y-1",children:[s.jsx(Mr,{type:"User",src:t,alt:n,size:60,className:"mx-0"}),s.jsx("p",{className:"text-[16.5px] ml-2 opacity-80 font-light",children:n})]}),s.jsx("div",{className:"mt-2",children:s.jsx(Rr,{disabled:u,onClick:async i=>{i.preventDefault(),i.stopPropagation(),o!=null&&o.id&&c()},className:"w-full gap-x-1.5",children:u?"Loading...":s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Send Message"}),s.jsx(Tr,{size:18})]})})})]})]})})}function Es({Sender:{avatar:e,username:t},senderId:n,body:r,createdAt:o,isEditted:c,readByIds:u,id:i,resourceUrl:d,type:l,isReply:p,parentMessage:f,openModal:h,sending:x,failed:v,index:m,preview:C}){var w;const{profile:g}=xt(),y=(g==null?void 0:g.id)===n,E=u.length>0;return s.jsx(s.Fragment,{children:s.jsx(vs,{isOwn:y,id:i,disabled:!!(x||v||C),replyTo:{parentId:i,text:r??"",avatar:e,username:t},bodyText:r??void 0,editMessage:{id:i,index:m,text:r??""},index:m,children:s.jsxs("article",{className:A("flex gap-3 p-4 w-full  items-center",y&&"justify-end"),id:i,children:[!y&&s.jsx(Cs,{avatarUrl:e,username:t,id:n,children:s.jsx("figure",{className:A("rounded-full self-end h-10 w-10 flex-shrink-0 overflow-hidden",y&&"order-2"),children:s.jsx("img",{src:e,alt:t+" avatar",loading:"lazy",className:"h-full w-full object-center object-cover"})})}),s.jsxs("div",{className:"",children:[s.jsxs("div",{className:A("max-w-full overflow-hidden space-y-1 bg-gray-300 dark:bg-[#17191c] text-gray-800 dark:text-gray-100 rounded-bl-lg rounded-br-2xl rounded-tr-2xl rounded-tl-2xl group p-3",y&&"rounded-bl-2xl rounded-br-lg bg-brand-p1 dark:bg-[rgb(60,116,161)] text-gray-200 dark:text-gray-50",d&&""),children:[p&&s.jsxs("div",{className:"flex gap-x-1.5",children:[s.jsx("div",{className:A("dark:bg-gray-800 bg-gray-50 rounded-tr-lg rounded-tl-lg rounded-bl-lg rounded-br-sm py-3 px-1.5",y&&"bg-[rgb(84,157,216)] dark:bg-[rgb(48,94,131)]"),children:s.jsx("p",{className:"font-light",children:f==null?void 0:f.body})}),s.jsx("figure",{className:A("rounded-full self-end h-8 w-8 flex-shrink-0 overflow-hidden"),children:s.jsx("img",{src:f==null?void 0:f.avatar,alt:"reply message avatar",loading:"lazy",className:"h-full w-full object-center object-cover"})})]}),s.jsxs("div",{children:[d!==null?s.jsx("div",{role:"button",onClick:S=>{console.log("clicked"),S.stopPropagation(),S.preventDefault(),h(d)},className:A("p-2 rounded-t-lg mb-3 h-[300px] w-full bg-gray-300 dark:bg-[#17191c]",y&&""),children:l==="IMAGE"?s.jsx("figure",{className:"h-[295px] w-full overflow-hidden rounded-lg",children:s.jsx("img",{src:d,alt:"message image",loading:"lazy",className:"object-cover hover:scale-110 object-center h-full hover:opacity-90 transition-all ease-in duration-200 w-full"})}):l==="VIDEO"?s.jsx("video",{src:d,playsInline:!0,loop:!0}):null}):null,r&&s.jsxs("div",{children:[!y&&s.jsx(ne,{className:"mb-[0.3rem] text-sm font-medium max-w-fit text-gray-900 dark:text-gray-200",children:t}),s.jsx(ne,{className:"",children:s.jsx(gs,{text:r,isOwn:y})}),c&&s.jsx(ne,{className:"opacity-80 text-xs",children:"edited"}),x?s.jsxs(ne,{className:"flex items-center gap-2 opacity-70 text-sm",children:[s.jsx("span",{children:"Sending"})," ",s.jsx("span",{children:s.jsx(Sr,{className:"animate-bounce",size:14})})]}):v?s.jsxs(ne,{className:"flex items-center justify-end gap-2 dark:text-rose-300  text-red-900 text-sm",children:[s.jsx("span",{children:"Failed"})," ",s.jsx("span",{children:s.jsx(Pr,{size:14})})]}):y?s.jsx("div",{className:"flex justify-end items-center",children:E?s.jsx(Nr,{size:14}):s.jsx(vt,{size:14})}):null]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ne,{className:"font-light text-sm",children:(w=new Date(o))==null?void 0:w.toLocaleDateString()})})]})]})})})}export{_r as C,Es as M,Ir as P,jr as R,Tr as S,hs as u};
